<html>
    <head> <!-- Bootstrapping -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <script>
        
            //class creation for the company 
        function AddNewCompany(){
            var companyName = $("#companyName").val();
            var companyLocation = $("#companyLocation").val();
            var companyRating = $("#companyRating").val();
            var companyReview = $("#companyReview").val();
            var companyAddedDate = $("#companyAddedDate").val();

            //if-case when one field is empty
            if (companyName == "" || companyLocation == "" || companyRating =="" || companyReview=="" ||companyAddedDate == "" ){
                alert("Please fill all the information");
                return;
            }
            
            params = {
                companyName: companyName,
                companyLocation: companyLocation,
                companyRating : companyRating,
                companyReview : companyReview,
                companyAddedDate : companyAddedDate
            };

            var URL = "http://localhost:8080/addCompany"

             //AJAX request
            $.ajax({
                type: "POST",
                url: URL,
                data: params,
                dataType: "html",
                success : function(msg){
                    console.log("Added");
                },
                error : function(jgXHR, textStatus, errorThrown){
                    alert("Fail")
                    $("#result").html("Error:" + textStatus + " " + errorThrown);
                }
            });

        }
        </script>
        <!-- Style of the page-->
        <style type="text/css">
            #tableInfo{
                background-color:rgb(233, 229, 229);
                padding-top:0.1%;
                padding-left:6%;
                size: 90%
            }
            th, td {
                width: 40%;
                text-align: left;
                vertical-align: top;
                border: 1px solid rgba(201, 47, 47, 0.158);
                border-collapse: collapse;
            }
            form{
                width:80%;
                margin-left:10%;
            }

            #addButton{
                border-radius: 2px;
                margin-left: 400px;
                size: 50%;
                font: 15%;
                align-content: flex-end;
                background-color: rgb(221, 218, 211);
            }

        </style>
    </head>
    
    <body>
        <!-- table creation -->
        <form>
            <center><img src="https://www.myccp.online/sites/default/files/images/Group/TransferOppertunities/drexel.png" alt="drexel logo" style="text-align: center; max-width: 60%; width: auto; height: auto;"></center>
            <tr>
                <td>
                    <fieldset>
                        <legend><h2>Company Information</h2></legend>
                        <table id = "tableInfo">
                            <tr>
                                <td height="40"> Company Name</td>
                                <td>
                                    <input type="text" id="companyName" placeholder="Enter Company Name" style = "width: 700px; height: 30px;" required>
                                </td>
                            </tr>
                            <tr>
                                <td height="40">Company Location</td>
                                <td>
                                    <input type="text" id="companyLocation" placeholder="Enter Company Location" style = "width: 700px; height: 30px;" required>
                                </td>
                            </tr>
                            <tr>
                                <td height="40"></tdheight>Comapny Rating</td>
                                <td>
                                    <input type="text" id="companyRating" placeholder="Enter Comapny Rating" style = "width: 700px; height: 30px;" required>
                                </td>
                            </tr>
                            <tr>
                                <td height="40">Company Reviews</td>
                                <td>
                                    <input type="text" id="companyReview" placeholder="Enter Company Reviews" style = "width: 700px; height: 30px;" required>
                                </td>
                            </tr>
                            <tr>
                                <td height="40"> Company Added Date</td>
                                <td>
                                    <input type="text" id="companyAddedDate" placeholder="Date: YYYY-MM-DD" style = "width: 700px; height: 30px;" required>
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                </td>
            </tr>
            <br><br>
            <tr>
                <center>
                <input type="button" value = "Add Company"height= "50%" style=" margin: 20px;cursor: pointer; width: 30%;" onclick="AddNewCompany()">
                </center>
            </tr>
        </form>
        <div id="result"></div>
    </body>
</html>
